<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>潇雨轩然のblog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="潇雨轩然のblog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="潇雨轩然のblog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="潇雨轩然">
<meta property="article:tag" content="hello">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="潇雨轩然のblog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/plugin/bganimation/bg.css">

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>

<!-- 一言API -->
<!-- 现代写法，推荐 -->
<!-- 兼容低版本浏览器 (包括 IE)，可移除 -->
<script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script>
<!--End-->
<script>
  fetch('https://v1.hitokoto.cn')
          .then(function (res){
            return res.json();
          })
          .then(function (data) {
            var hitokoto = document.getElementById('hitokoto');
            hitokoto.innerText = data.hitokoto + '——【' + data.from + '】';
          })
          .catch(function (err) {
            console.error(err);
          })

</script>


<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">

    <img class="avatar" src="/images/photo.jpg">
    <h2 class="author">潇雨轩然</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>4</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>4</strong><br>标签</div></a>
    </div>

    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
          <a href="/about" title="About">
            <li>关于</li>
          </a>
        
          <a href="/seach" title="search">
            <li>搜索</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-cmake学习笔记" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/11/cmake%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="post-time" datetime="2024-01-11T11:27:17.711Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">11</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/11/cmake%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">ESP32层级目录</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<table>
<thead>
<tr>
<th>要求</th>
<th>关键字</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>设置cmake最低版本要求(3.10为例)</td>
<td>cmake_minimum_required</td>
<td>cmake_minimum_required(VERSION 3.10)</td>
<td></td>
</tr>
<tr>
<td>创建项目(名为TEST)</td>
<td>project</td>
<td>project(TEST)</td>
<td>创建TEST项目1.0版本project(TEST VERSION 1.0)</td>
</tr>
<tr>
<td>为项目添加名为test的可执行文件（并指定test.cxx为源文件）</td>
<td>add_executable</td>
<td>add_executable(test test.cxx test01.cxx test02.cxx)<br />add_executable(test test.cxx)</td>
<td></td>
</tr>
<tr>
<td>设置C++标准(只能设置98 11 14 17 20 23 26)</td>
<td>set</td>
<td>set(CMAKE_CXX_STANDARD 11)</td>
<td></td>
</tr>
<tr>
<td>C++标准是否为必须</td>
<td>set</td>
<td>set(CMAKE_CXX_STANDARD_REQUIRED True)</td>
<td>如果设置为true,则编译器如果不支持则输出错误信息，如果设置为false，则不支持的话会使用上一个版本标准进行编译</td>
</tr>
<tr>
<td>cmake输出信息</td>
<td>message</td>
<td>message(STATUS “hello world”)</td>
<td></td>
</tr>
<tr>
<td>cmake输出变量信息</td>
<td>message</td>
<td>message(STATUS “${PROJECT_BINARY_DIR}”)</td>
<td>输出build目录</td>
</tr>
<tr>
<td>复制xcxx.in生成xxx.h</td>
<td>configure_file()</td>
<td>configure_file(TestConfig.h.in TestConfig.h)</td>
<td></td>
</tr>
<tr>
<td>添加头文件搜索目录</td>
<td>target_include_directories()</td>
<td>target_include_directories(Test PUBLIC ${PROJECT_BINARY_DIR})指定头文件搜索目录为build</td>
<td>第二个参数有public parivate interface</td>
</tr>
<tr>
<td>.in文件引入cmake变量</td>
<td>#define .h变量名 ${cmake变量名}<br />#define .h变量名 @cmake变量名@</td>
<td>字符串写成”@变量名@”</td>
<td></td>
</tr>
<tr>
<td>添（创建）加一个库</td>
<td>add_library()</td>
<td>add_library(库名,源文件，.h头文件)</td>
<td></td>
</tr>
<tr>
<td>把子文件夹的库添加到项目</td>
<td>add_subdirectory</td>
<td>add_subdirectory(库名)</td>
<td></td>
</tr>
<tr>
<td>向可执行文件中添加链接库</td>
<td>target_link_libraries()</td>
<td>target_link_libraries(项目名，PUBLIC,库名)<br />项目名为add_executable里的名字</td>
<td>第二个参数有public parivate interface</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/11/cmake%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-id="cm378as2h000ao4m5d8hy5hyo" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ESP32/" rel="tag">ESP32</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cmake/" rel="tag">cmake</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-安信可" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/05/%E5%AE%89%E4%BF%A1%E5%8F%AF/" class="article-date">
  <time class="post-time" datetime="2024-01-05T04:11:36.407Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">05</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/05/%E5%AE%89%E4%BF%A1%E5%8F%AF/">Ai-M61-32S入门-点灯</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>第一次用<strong>Ai-M61-32S</strong>，中途可能有失误，请多多指教</p>
<h3 id="1-1-准备工作"><a href="#1-1-准备工作" class="headerlink" title="1.1 准备工作"></a>1.1 准备工作</h3><ul>
<li>开发环境：Windows 11（默认已下载好SDK及开发环境等）、vscode（可不用）</li>
<li>开发板：Ai-M61-32S</li>
<li>功能：点灯</li>
<li>手册1：<a target="_blank" rel="noopener" href="https://docs.ai-thinker.com/_media/en/ai-m61-32s-kit_v1.1.0%E8%A7%84%E6%A0%BC%E4%B9%A620230324.pdf">https://docs.ai-thinker.com/_media/en/ai-m61-32s-kit_v1.1.0%E8%A7%84%E6%A0%BC%E4%B9%A620230324.pdf</a></li>
<li>原理图：<a target="_blank" rel="noopener" href="https://docs.ai-thinker.com/_media/nodemcu-ai-m61-32s-kit_v1.1.pdf">https://docs.ai-thinker.com/_media/nodemcu-ai-m61-32s-kit_v1.1.pdf</a></li>
</ul>
<h3 id="1-2-硬件连接"><a href="#1-2-硬件连接" class="headerlink" title="1.2 硬件连接"></a>1.2 硬件连接</h3><p>使用一根可以传输数据的Type-C数据线连接开发板与电脑即可，如图所示</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/IMG_20240502_131417.jpg" alt="IMG_20240502_131417"></p>
<h2 id="2-开始点灯"><a href="#2-开始点灯" class="headerlink" title="2 开始点灯"></a>2 开始点灯</h2><ul>
<li>参考链接：<a target="_blank" rel="noopener" href="https://bbs.ai-thinker.com/forum.php?mod=viewthread&tid=43816&ctid=13">https://bbs.ai-thinker.com/forum.php?mod=viewthread&amp;tid=43816&amp;ctid=13</a></li>
</ul>
<h3 id="2-1-原理图"><a href="#2-1-原理图" class="headerlink" title="2.1 原理图"></a>2.1 原理图</h3><p>写程序之前先看一下原理图</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502131800107.png" alt="image-20240502131800107"></p>
<p>由图可得信息：</p>
<ul>
<li>B、R、G三个LED灯的引脚分别为IO15、IO12、IO14</li>
<li>B、R、G三个LED灯接在一个地上，所以欲使LED灯点亮，IO15、IO12、IO14给一个高电平</li>
</ul>
<h3 id="2-2打开项目案例"><a href="#2-2打开项目案例" class="headerlink" title="2.2打开项目案例"></a>2.2打开项目案例</h3><p>首先进入GPIO案例的目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\AiPi-Open-Kits\aithinker_Ai-M6X_SDK\examples\peripherals\gpio</span><br></pre></td></tr></table></figure>

<p>然后会看到目录下有两个文件夹</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132329290.png" alt="image-20240502132329290"></p>
<p>根据文件夹的名字可知，gpio_input_output文件夹是符合我们需要的，接下来复制该文件夹</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132457364.png" alt="image-20240502132457364"></p>
<p>并重命名为gpio_input_outputRGB</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132520271.png" alt="image-20240502132520271"></p>
<p>然后进入gpio_input_outputRGB文件夹，会发现如下文件</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132624155.png" alt="image-20240502132624155"></p>
<p>然后打开CMakeLists.txt文件，修改其中的项目名称</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132722267.png" alt="image-20240502132722267"></p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132808426.png" alt="image-20240502132808426"></p>
<p>将该名称修改为文件夹名称，然后点击保存（或Ctrl+S）</p>
<h3 id="2-3编写mian-c"><a href="#2-3编写mian-c" class="headerlink" title="2.3编写mian.c"></a>2.3编写mian.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bflb_gpio.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;board.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bflb_device_s</span> *<span class="title">gpio</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    board_init();</span><br><span class="line"></span><br><span class="line">    gpio = bflb_device_get_by_name(<span class="string">&quot;gpio&quot;</span>); </span><br><span class="line">    bflb_gpio_init(gpio, GPIO_PIN_12, GPIO_OUTPUT | GPIO_PULLUP | GPIO_SMT_EN | GPIO_DRV_0);</span><br><span class="line">    bflb_gpio_init(gpio, GPIO_PIN_14, GPIO_OUTPUT | GPIO_PULLUP | GPIO_SMT_EN | GPIO_DRV_0);</span><br><span class="line">    bflb_gpio_init(gpio, GPIO_PIN_15, GPIO_OUTPUT | GPIO_PULLUP | GPIO_SMT_EN | GPIO_DRV_0);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">            bflb_gpio_set(gpio, GPIO_PIN_12);</span><br><span class="line">            bflb_mtimer_delay_ms(<span class="number">500</span>);</span><br><span class="line">            bflb_gpio_reset(gpio, GPIO_PIN_12);</span><br><span class="line">            bflb_mtimer_delay_ms(<span class="number">500</span>);</span><br><span class="line">            bflb_gpio_set(gpio, GPIO_PIN_14);</span><br><span class="line">            bflb_mtimer_delay_ms(<span class="number">500</span>);</span><br><span class="line">            bflb_gpio_reset(gpio, GPIO_PIN_14);</span><br><span class="line">            bflb_mtimer_delay_ms(<span class="number">500</span>);</span><br><span class="line">            bflb_gpio_set(gpio, GPIO_PIN_15);</span><br><span class="line">            bflb_mtimer_delay_ms(<span class="number">500</span>);</span><br><span class="line">            bflb_gpio_reset(gpio, GPIO_PIN_15);</span><br><span class="line">            bflb_mtimer_delay_ms(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写完main.c之后保存关闭。</p>
<h3 id="2-4-编译"><a href="#2-4-编译" class="headerlink" title="2.4 编译"></a>2.4 编译</h3><p>点击资源管理器的地址栏</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502132957277.png" alt="image-20240502132957277"></p>
<p>接着删除地址栏内的内容</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502133051782.png" alt="image-20240502133051782"></p>
<p>然后输入CMD(全大写或者全小写均可，其他混用没试过)</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502133444165.png" alt="image-20240502133444165"></p>
<p>然后回车(Enter)，打开终端</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502133553320.png" alt="image-20240502133553320"></p>
<p>然后输入make clean</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502133636077.png" alt="image-20240502133636077"></p>
<p>接着输入make</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502133859781.png" alt="image-20240502133859781"></p>
<p>发现出现两个错误</p>
<h3 id="2-5-排错（无错则跳过该章节）"><a href="#2-5-排错（无错则跳过该章节）" class="headerlink" title="2.5 排错（无错则跳过该章节）"></a>2.5 排错（无错则跳过该章节）</h3><p>我们向上查看，发现错误地方</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502134021860.png" alt="image-20240502134021860"></p>
<p>根据 <a target="_blank" rel="noopener" href="https://bbs.ai-thinker.com/forum.php?mod=viewthread&tid=43842&ctid=13">新手小白Ai-M61-32S各类报错解决汇总及点灯</a>获取排错方法：</p>
<p>首先打开目录E:\aitkink\AiPi-Open-Kits\aithinker_Ai-M6X_SDK\bsp\board\bl616dk</p>
<p>高亮区域为SDK下的目录，会看到如下文件和文件夹</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502134513681.png" alt="image-20240502134513681"></p>
<p>然后打开board.c，注释掉#include “lwip&#x2F;dns.h”</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502134608944.png" alt="image-20240502134608944"></p>
<p>接着再注释掉ip_addr_t dns_addr;（注意行号）</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502134651952.png" alt="image-20240502134651952"></p>
<p>然后保存关闭</p>
<p>接着我们回到刚刚的gpio_input_outputRGB文件夹，按照刚刚的方法打开CMD（没有关掉可以不用再打开）</p>
<p>接着先make clean</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502134904059.png" alt="image-20240502134904059"></p>
<p>然后再输入make</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502135006466.png" alt="image-20240502135006466"></p>
<p>看到Built target combine代表编译成功</p>
<h3 id="2-6-烧录程序"><a href="#2-6-烧录程序" class="headerlink" title="2.6 烧录程序"></a>2.6 烧录程序</h3><p>保持着CMD不要关闭，然后回到桌面，鼠标右键此电脑</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502135252573.png" alt="image-20240502135252573"></p>
<p>点击管理，然后按照下图方式查看串口号</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502135526102.png" alt="image-20240502135526102"></p>
<p>由图可知我的串口号是COM7</p>
<p>然后我们在刚刚的命令行下输入make flash COMX&#x3D;COM7，<strong>切记！不要回车！不要回车！不要回车！</strong></p>
<p>然后我们按下单片机的右侧按钮，按钮左上角写着IO2的丝印，按下不要松开</p>
<p>然后再按下左边的按钮，按钮右上角写着EN的丝印，按一下之后松开即可，（<strong>IO2此时可以松开</strong>）</p>
<p>然后回车命令行开始下载</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20240502140005998.png" alt="image-20240502140005998"></p>
<h3 id="2-7-实验结果"><a href="#2-7-实验结果" class="headerlink" title="2.7 实验结果"></a>2.7 实验结果</h3><p>接下来我们拔下数据线，再重新插上，实现一个物理意义的复位</p>
<p>就可以看到我们的代码效果，三种颜色的灯轮流点亮</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/1714629773275.gif" alt="1714629773275"></p>
<p><strong>感谢查看</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/05/%E5%AE%89%E4%BF%A1%E5%8F%AF/" data-id="cm378as2a0001o4m506ngf20k" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ai-M61-32S/" rel="tag">Ai-M61-32S</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-test" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/03/test/" class="article-date">
  <time class="post-time" datetime="2024-01-03T15:09:26.193Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">03</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/03/test/">Special</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        请输入密码查看.
        
          <p class="article-more-link">
            <a href="/2024/01/03/test/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/03/test/" data-id="cm378as2d0003o4m5egzodbmk" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Special/" rel="tag">Special</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-构建层级目录" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/12/25/%E6%9E%84%E5%BB%BA%E5%B1%82%E7%BA%A7%E7%9B%AE%E5%BD%95/" class="article-date">
  <time class="post-time" datetime="2023-12-25T08:34:15.223Z" itemprop="datePublished">
    <span class="post-month">12月</span><br/>
    <span class="post-day">25</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/12/25/%E6%9E%84%E5%BB%BA%E5%B1%82%E7%BA%A7%E7%9B%AE%E5%BD%95/">ESP32层级目录</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h1 id="一、关于如何创建ESP32层级目录方法"><a href="#一、关于如何创建ESP32层级目录方法" class="headerlink" title="一、关于如何创建ESP32层级目录方法"></a>一、关于如何创建ESP32层级目录方法</h1><h2 id="一-创建一个基本工程"><a href="#一-创建一个基本工程" class="headerlink" title="(一) 创建一个基本工程"></a>(一) 创建一个基本工程</h2><ol>
<li><p>打开VsCode，使用ctrl+shift+P创建工程</p>
<p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20231221104910781.png" alt="image-20231221104910781"></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/xiaoyuxuanran/images/main/image-20231221105013952.png" alt="image-20231221105013952"></p>
</li>
</ol>
<h2 id="（二）编译运行项目"><a href="#（二）编译运行项目" class="headerlink" title="（二）编译运行项目"></a>（二）编译运行项目</h2><h2 id="（三）添加组件"><a href="#（三）添加组件" class="headerlink" title="（三）添加组件"></a>（三）添加组件</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctrl + shift +p</span><br><span class="line">输入 ESP-IDF: Create <span class="keyword">new</span> ESP-IDF Component 新建组件，然后输入组件名称</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LED_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LED_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;driver/gpio.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GPIO_LED  GPIO_NUM_2</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_GPIO_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>这里放一个LED的.h框架</p>
<p>main.c如果找不到LED.h,则在根目录cmake添加</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include_directories</span>(<span class="variable">$&#123;CMAKE_CURRENT._SOURCE_DIR&#125;</span>/components/LED/<span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>

<p>常见的报错找不到#include “driver&#x2F;gpio.h”</p>
<p>在组件的cmake里添加,这里以LED为例</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">idf_component_register(SRCS <span class="string">&quot;LED.c&quot;</span></span><br><span class="line">                    INCLUDE_DIRS <span class="string">&quot;include&quot;</span></span><br><span class="line">                    REQUIRES driver)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/25/%E6%9E%84%E5%BB%BA%E5%B1%82%E7%BA%A7%E7%9B%AE%E5%BD%95/" data-id="cm378as2h000bo4m5h7qndzyr" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ESP32/" rel="tag">ESP32</a></li></ul>

    </footer>
  </div>
  
</article>




  

</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">潇雨轩然のblog</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
          <a href="/about" title="About">
            <li>关于</li>
          </a>
        
          <a href="/seach" title="search">
            <li>搜索</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/photo.jpg">
    <h2 class="author">潇雨轩然</h2>
    <h3 id="hitokoto" style="font-family: 华文行楷">正在加载一言...</h3>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>4</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>4</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://github.com/xiaoyuxuanran" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="http://blog.shanamaid.top/" target="_blank" title="主题作者">
          主题作者
        </a>
      
    </div>

  </div>
</div>

  
</aside>
        
        <!-- 雪花特效3 -->
        
          <script type="text/javascript" src="/js/snow3.js"></script>
        



      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2023 - 2024 潇雨轩然<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a target="_blank" rel="noopener" href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  
<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">

  
<script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>




  
<link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">

  
<script src="/plugin/galmenu/GalMenu.js"></script>

  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a target="_blank" rel="noopener" href="http://www.baidu.com" title="" class="menuItem">百度</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>

<script src="/js/script.js"></script>




  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>